<ion-header>
  <ion-toolbar>
    <ion-title>Under Review</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list lines="full">
        <ion-item (click)="goToDetail(service.workorderid)" detail *ngFor="let service of underreview">
            <ion-avatar><ion-icon size="large" name="flash"></ion-icon></ion-avatar>
            <ion-label>
              <h2>{{service[0]}}</h2>
              <h2>{{service.towersites}}</h2>
              <p>{{service.longdate}}</p>
              <div class="service-details-div">
                <ion-grid class="service-details-grid">
                  <ion-row>
                    <ion-col><p class="st">Start Time</p></ion-col>
                    <ion-col><p class="et">End Time</p></ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col><p>{{service.time_start}}</p></ion-col>
                    <ion-col><p>{{service.time_end}}</p></ion-col>
                  </ion-row>
                </ion-grid>
              </div>
            </ion-label>
            <ion-badge slot="end" class="status" color="white"
            data-color="{{(service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined') ? 'danger' : 'warning'}}"
            [ngStyle]="{'background-color': service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined' ? 'var(--ion-color-danger)' : 
            service?.wostatus == 'Under Review' ? 'var(--ion-color-warning)' : 
            service?.wostatus == 'Completed' ? 'var(--ion-color-medium)' : 'var(--ion-color-success)', 'border-color':service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined' ? 'var(--ion-color-danger)' : service?.wostatus == 'Under Review' ? 'var(--ion-color-warning)' : 'var(--ion-color-success)' }"
            >
              <ion-text class="status-text">{{service.wostatus}}</ion-text>
            </ion-badge>
          </ion-item>
          <p class="ion-padding" *ngIf="count_weeklyServices == 0">No work orders available for this section</p>
    </ion-list>
</ion-content>
